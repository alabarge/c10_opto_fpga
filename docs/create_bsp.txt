These instructions are only for creating a BSP and/or APP from scratch.

0.    QSys HDL Generation must be first in order to generate the .SOPC file
1.    From the niosv-shell.exe (c:\altera\25.1std\niosv\bin) run niosv-bsp-editor.exe
2.    File->New BSP, opening and editing an existing BSP doesn't seem to work!
3.    Select the c10_fpga.sopcinfo file at c10_top\PR_R2\, this file
      was generated by the platform designer after Generate HDL
4.    Uncheck "Use default locations"
5.    Create folder d:\c10_opto_fpga\nios\c10_bsp and Select for BSP target directory
6.    Select altera_ro_zipfs under Software Packages

      *** fix warning misleading indentation for BSP only***
6.1   Add -Wno-misleading-indentation to hal.make cflags_warnings

7.    Select 0x10200000 for ro_zipfs_base address, offset is 0x003C0000
8.    Leave all drivers selected
9.    Change the Linker Script :

            Remove sdram
            Add sdram,        0x00000000 - 0x000FFFFF sdram    1048576     0
            Add sdram_fifo,   0x00100000 - 0x007FFFFF sdram    7340032    1048576

15.   Under BSP Editor Main tab, sys_clk_timer = cpu, timestamp_timer = cpu (usually DEFAULT settings)

16.   Under Drivers tab set internal_timer_ticks_per_sec to 100

17.   Generate and Save


###


1.    If a new firmware project is need then from the niosv-shell.exe
            [niosv-shell] d:\niosv-app -a=c10_fw -b=c10_bsp -s=c10_fw/main.c

2.    Run Ashling RiscFree IDE and import preference file utils/eclipse.epf,
      using File->General->Preferences (then Restart)

2.    File->Import Nios V CMake project c10_bsp, set text file encoding to other->UTF-8
      c10_bsp -> Properties -> Resource -> text file encoding -> other = UTF-8

3.    Project -> Clean uncheck clean all projects, select c10_bsp and build only selected projects (Clean button)

4.    First time launch of Ashling RiscFree IDE doesn't populate the Console output correctly so close and relaunch

5.    Run Project -> Clean and verify Console output builds the BSP

6.    File->Import Nios V CMake project c10_fw

7.    File->Import -> C/C++ -> C/C++ Project Settings -> c10_fw ->
            browse for c10_opto_fpga/utils/include_search_path_25.1std.xml

8.    Import C/C++ Project Settings->include_search_path_25.1std.xml for de0_fw project
9.    Project->Clean uncheck clean all projects, select de0_bsp and build only selected projects
10.   First time launch of Ashling RiscFree IDE doesn't populate the Console output correctly so relaunch

*** NOTE ***

11.   Editing of the BSP does not appear to work, if Qsys changes and the BSP must be updated
      then the BSP must be regenerated from scratch as above.
